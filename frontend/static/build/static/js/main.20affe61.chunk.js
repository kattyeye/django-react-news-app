(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(33),r=a.n(s),i=(a(88),a(89),a(9)),l=a(10),o=a.n(l),j=a(14),d=a(3),b=(a(91),a(12)),u=a(8),h=a(2),m=a(17),p=a.n(m),x=a(1);var O=a(75),f=a(111);function v(e){var t=e.article;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("section",{className:"blog-hero-section",children:[Object(x.jsx)("h2",{className:"article-title",children:t.title}),t.image&&Object(x.jsx)("img",{id:"hero-img",src:t.image,alt:"image-for-news-article"})]}),Object(x.jsxs)("section",{className:"text",children:[Object(x.jsxs)("span",{style:{fontStyle:"italic"},className:"author-name-text",children:["submitted by ",Object(x.jsxs)("strong",{children:["@",t.author]})]}),Object(x.jsx)("p",{className:"info",children:t.body})]}),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O.a,{variant:"primary",onClick:e.handleShow,children:"Read more"}),Object(x.jsxs)(f.a,{size:"lg",show:e.lgShow,onHide:function(){return e.setLgShow(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(x.jsx)(f.a.Header,{closeButton:!0,children:Object(x.jsx)(f.a.Title,{id:"example-modal-sizes-title-lg",children:t.title})}),Object(x.jsx)(f.a.Body,{children:t.body})]})]})]})}a.p,a.p,a.p;var y={home:"HOM",food:"FOO",fashion:"FAS",local:"LOC",global:"GLO",travel:"TRA"};var g=Object(b.i)((function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),i=Object(d.a)(r,2),l=(i[0],i[1],Object(b.h)());return Object(n.useEffect)((function(){var t=e.match.params.category,a="/api_v1/articles/";function n(){return(n=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("articles",n),s(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&(a="/api_v1/articles/?category=".concat(y[t])),function(){n.apply(this,arguments)}()}),[l]),Object(x.jsxs)("div",{className:"container-fluid mt-5 article-container ",children:[Object(x.jsx)("div",{className:"articleholder",children:null===c||void 0===c?void 0:c.map((function(e){return Object(x.jsx)(v,{article:e})}))}),!e.isAuth&&Object(x.jsx)("aside",{className:"aside-articles container-fluid ",children:c.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"content ",children:Object(x.jsxs)("section",{className:"blog-hero-section",children:[Object(x.jsx)("h4",{className:"article-title",children:e.title}),e.image&&Object(x.jsx)("img",{id:"hero-img",src:e.image,alt:"image-for-news-article"})]})},e.id)})}))})]})}));function N(e){var t=Object(n.useState)({title:"",author:"",body:"",image:null}),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),i=Object(d.a)(r,2),l=i[0],b=i[1],m=function(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(u.a)({},a,n))}))},O=function(e){console.warn(e)};function f(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(o.a.mark((function t(a){var n,r,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("title",c.title),n.append("body",c.body),n.append("image",c.image),n.append("phase",a.target.value),r={method:"POST",headers:{"X-CSRFToken":p.a.get("csrftoken")},body:n},t.next=9,fetch("/api_v1/articles/",r).catch(O);case 9:if(i=t.sent){t.next=14;break}console.log(i),t.next=18;break;case 14:return t.next=16,i.json();case 16:l=t.sent,s(l);case 18:e.history.push("/articles/drafts");case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(x.jsx)("div",{className:"container-fluid",style:{display:"flex"},children:Object(x.jsxs)("form",{className:"mt-5 container-fluid",style:{width:"70%"},children:[Object(x.jsx)("label",{className:"article-form-label",children:"Submit an Article"}),Object(x.jsx)("p",{className:"hear",children:"we want to hear about it."}),Object(x.jsx)("input",{onChange:m,value:c.title,className:"form-control",name:"title",type:"text",placeholder:"Title here."}),Object(x.jsx)("textarea",{onChange:m,value:c.body,className:"form-control",name:"body",type:"text",placeholder:"Body text here."}),Object(x.jsx)("input",{onChange:function(e){var t=e.target.files[0];s(Object(h.a)(Object(h.a)({},c),{},{image:t}));var a=new FileReader;a.onloadend=function(){b(a.result)},a.readAsDataURL(t)},type:"file",className:"form-control"}),c.image&&Object(x.jsx)("img",{src:l,alt:"",className:"preview-image"}),Object(x.jsx)("button",{type:"button",className:"btn btn-save mt-3",name:"DRA",value:"DRA",onClick:f,children:"Save as Draft"}),Object(x.jsx)("button",{type:"button",className:"btn btn-pub mt-3",name:"DRA",value:"SUB",onClick:f,children:"Submit for Publishing"})]})})}function k(e){var t=Object(n.useState)({username:"",email:"",password1:"",password2:""}),a=Object(d.a)(t,2),c=a[0],s=a[1],r=b.g,i=Object(n.useState)(null),l=Object(d.a)(i,2),m=l[0],O=l[1];function f(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(u.a)({},a,n))}))}function v(e){console.warn(e)}function y(){return(y=Object(j.a)(o.a.mark((function e(t){var a,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c.password1===c.password2){e.next=5;break}O("Passwords do not match!"),e.next=18;break;case 5:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")},body:JSON.stringify(c)},e.next=8,fetch("/rest-auth/registration/",a).catch(v);case 8:if(n=e.sent){e.next=13;break}console.log(n),e.next=18;break;case 13:return e.next=15,n.json();case 15:s=e.sent,p.a.set("Authorization","Token".concat(s.key)),r.push("/");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("form",{className:"mt-3 col-6 ",onSubmit:function(e){return y.apply(this,arguments)},children:[Object(x.jsxs)("div",{className:"form-group text-left mb-3 ",children:[Object(x.jsx)("label",{htmlFor:"username",children:"username"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"enter username.",onChange:f,required:!0,name:"username",value:c.username})]}),Object(x.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(x.jsx)("label",{htmlFor:"email",children:"email"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"email",placeholder:"enter email.",onChange:f,required:!0,name:"email",value:c.email})]}),Object(x.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(x.jsx)("label",{htmlFor:"password1",children:"password"}),Object(x.jsx)("input",{type:"password",className:"form-control",id:"password1",placeholder:"enter password.",onChange:f,required:!0,name:"password1",value:c.password1})]}),Object(x.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(x.jsx)("label",{htmlFor:"password2",children:"confirm password"}),Object(x.jsx)("input",{type:"password",className:"form-control",id:"password2",placeholder:"confirm password.",onChange:f,required:!0,name:"password2",value:c.password2}),m&&Object(x.jsx)("span",{className:"text-danger",children:m})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Register"})]})})}var w=Object(b.i)((function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(d.a)(t,2),c=a[0],s=a[1];function r(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(u.a)({},a,n))}))}function i(e){console.warn(e)}function l(){return(l=Object(j.a)(o.a.mark((function t(a){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")},body:JSON.stringify(c)},t.next=4,fetch("/rest-auth/login/",n).catch(i);case 4:if(s=t.sent){t.next=9;break}console.log(s),t.next=15;break;case 9:return t.next=11,s.json();case 11:r=t.sent,p.a.set("Authorization","Token".concat(r.key)),e.setUser((function(e){return Object(h.a)(Object(h.a)({},e),{},{isAuth:!0})})),e.history.push("/");case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(x.jsxs)("form",{className:"mt-3 col-6 container",onSubmit:function(e){return l.apply(this,arguments)},children:[Object(x.jsx)("div",{className:"form-group text-left mb-3",children:Object(x.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"enter username.",onChange:r,required:!0,name:"username",value:c.username})}),Object(x.jsx)("div",{className:"form-group text-left mb-3",children:Object(x.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"enter password.",onChange:r,required:!0,name:"password",value:c.password})}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Login"}),Object(x.jsx)("button",{type:"button",className:"btn btn-primary mt-3 register-here-button",onClick:function(){e.history.push("/registration")},children:"Click to register."})]})})),S=a(54),A=a(109),C=a(112),F=a(110),R=a.p+"static/media/mainLogo.9aea362a.png";function L(e){return Object(x.jsx)(S.a,{collapseOnSelect:!0,expand:"lg",className:"container-fluid",children:Object(x.jsxs)(A.a,{children:[Object(x.jsx)(S.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(x.jsx)(S.a.Collapse,{id:"responsive-navbar-nav",children:Object(x.jsxs)(C.a,{className:"me-auto container-fluid",style:{paddingRight:"0px"},children:[e.isAdmin&&Object(x.jsxs)(F.a,{title:"Admin Articles",className:" secondary-nav-item p-3",id:"dropdown-nav-title",children:[Object(x.jsx)(F.a.Item,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/articles/admin/submitted",children:"Submitted"})})})}),Object(x.jsx)(F.a.Item,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/articles/admin/published",children:"Published"})})})}),Object(x.jsx)(F.a.Item,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/articles/admin/rejected",children:"Rejected"})})})}),Object(x.jsx)(F.a.Item,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/articles/admin/archived",children:"Archived"})})})})]}),e.isAuth&&!e.isAdmin&&Object(x.jsxs)(F.a,{title:"My Articles",className:" secondary-nav-item p-3",id:"dropdown-nav-title",children:[Object(x.jsx)(F.a.Item,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/articles/drafts",children:"Drafts"})})})}),Object(x.jsx)(F.a.Item,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/articles/submitted",children:"Submitted"})})})}),Object(x.jsx)(F.a.Item,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/articles/published",children:"Published"})})})}),Object(x.jsx)(F.a.Item,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/articles/rejected",children:"Rejected"})})})}),Object(x.jsx)(F.a.Item,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/articles/archived",children:"Archived"})})})})]}),Object(x.jsx)(S.a.Brand,{children:Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{className:"navbar-brand",to:"/",children:Object(x.jsx)("img",{src:R})})})}),e.isAuth&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3",children:Object(x.jsx)(i.b,{to:"/account",children:"Compose"})})})}),!e.isAuth&&Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"nav-item secondary-nav-item p-3 ",children:Object(x.jsx)(i.b,{className:"login-btn",to:"/login",children:"Login"})})}),e.isAuth&&Object(x.jsx)(C.a.Link,{children:Object(x.jsx)("li",{className:"btn-logout",children:Object(x.jsx)("button",{className:"btn btn-link logout",type:"button",onClick:function(){return e.handleLogoutSubmit()},children:"Logout"})})})]})})]})})}var T=function(e){return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{children:Object(x.jsx)("h3",{children:e.profile})})]})},D=(a(99),a(26)),B={drafts:"DRA",submitted:"SUB",published:"PUB",rejected:"REJ"};var U=Object(b.i)((function(e){var t,a=Object(n.useState)([]),c=Object(d.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(null),l=Object(d.a)(i,2),u=l[0],m=l[1],O=Object(n.useState)("draftScreen"),f=Object(d.a)(O,2),v=f[0],y=f[1],g=Object(b.h)();function N(e){var t=e.target,a=t.name,n=t.value,c=Object(D.a)(s),i=c.findIndex((function(e){return e.id===u})),l=Object(h.a)({},s[i]);l[a]=n,c[i]=l,r(c)}function k(e){return w.apply(this,arguments)}function w(){return(w=Object(j.a)(o.a.mark((function t(a){var n,c,i,l,j,d,b,m,x,O;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=s.findIndex((function(e){return e.id===u})),c=Object(h.a)({},s[n]),i=a.target.dataset.phase,delete c.image,(l=new FormData).append("title",c.title),l.append("body",c.body),l.append("phase",i),j={method:"PUT",headers:{"X-CSRFToken":p.a.get("csrftoken")},body:l},t.next=12,fetch("/api_v1/articles/".concat(u,"/"),j).catch(e.handleError);case 12:if(d=t.sent){t.next=17;break}console.log(d),t.next=33;break;case 17:if("SUB"!=i){t.next=27;break}return t.next=20,d.json();case 20:b=t.sent,(m=Object(D.a)(s))[n]=b,r(m),y("successScreen"),t.next=33;break;case 27:return t.next=29,d.json();case 29:x=t.sent,(O=Object(D.a)(s))[n]=x,r(O);case 33:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var t=e.match.params.phase,a="/api_v1/articles/";function n(){return(n=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&(a="/api_v1/articles/?phase=".concat(B[t])),function(){n.apply(this,arguments)}()}),[g]),"draftScreen"===v?t=s.map((function(e){return Object(x.jsxs)("form",{children:[Object(x.jsx)("input",{type:"text",name:"title",value:e.title,onChange:N}),Object(x.jsx)("section",{className:"text",children:Object(x.jsx)("textarea",{type:"text",name:"body",value:e.body,onChange:N})}),"DRA"===e.phase&&Object(x.jsx)("button",{className:"btn btn-warning",type:"button",onClick:function(){return m(e.id)},children:"Edit"}),e.id===u?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"btn btn-save save-btn",type:"click","data-phase":"DRA",onClick:k,children:"Save as draft"}),Object(x.jsx)("button",{className:"btn btn-pub ",type:"click","data-phase":"SUB",onClick:k,children:"Save and submit"})]}):null]},e.id)})):"successScreen"===v&&(t=Object(x.jsx)("div",{className:"success-card-container",children:Object(x.jsxs)("div",{className:"success-card",children:[Object(x.jsx)("h3",{children:"Thank you for your submission! Your article is under review."}),Object(x.jsx)("h4",{children:"Admin will process your request shortly."})]})})),Object(x.jsx)("div",{className:"container-fluid mt-5 article-auth-container",children:Object(x.jsx)("div",{className:"articleholder",children:t})})}));function P(){return Object(x.jsx)("nav",{className:"navbar navbar-expand-lg ",children:Object(x.jsx)("div",{className:"container-fluid",children:Object(x.jsx)("div",{className:"collapse navbar-collapse primarynav",id:"navbarResponsive",children:Object(x.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(x.jsx)("li",{className:"nav-item p-3",id:"primary-nav-item",children:Object(x.jsx)(i.b,{to:"/local",children:"Local"})}),Object(x.jsx)("li",{className:"nav-item p-3",id:"primary-nav-item",children:Object(x.jsx)(i.b,{to:"/food",children:"Food"})}),Object(x.jsx)("li",{className:"nav-item p-3",id:"primary-nav-item",children:Object(x.jsx)(i.b,{to:"/travel",children:"Travel"})}),Object(x.jsx)("li",{className:"nav-item p-3",id:"primary-nav-item",children:Object(x.jsx)(i.b,{to:"/fashion",children:"Fashion"})}),Object(x.jsx)("li",{className:"nav-item p-3",id:"primary-nav-item",children:Object(x.jsx)(i.b,{to:"/global",children:"Global"})})]})})})})}var I=a(80),E=a(81),_={drafts:"DRA",submitted:"SUB",published:"PUB",rejected:"REJ"};var J=Object(b.i)((function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(null),i=Object(d.a)(r,2),l=i[0],u=i[1],m=Object(b.h)();function O(e){var t=e.target,a=t.name,n=t.value,r=Object(D.a)(c),i=r.findIndex((function(e){return e.id===l})),o=Object(h.a)({},c[i]);o[a]=n,r[i]=o,s(r)}function f(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(o.a.mark((function t(a){var n,r,i,j,d,b,u,m;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=c.findIndex((function(e){return e.id===l})),r=Object(h.a)({},c[n]),i=a.target.dataset.phase,delete r.image,(j=new FormData).append("title",r.title),j.append("body",r.body),j.append("phase",i),d={method:"PUT",headers:{"X-CSRFToken":p.a.get("csrftoken")},body:j},t.next=12,fetch("/api_v1/articles/admin/".concat(l,"/"),d).catch(e.handleError);case 12:if(b=t.sent){t.next=17;break}console.log(b),t.next=23;break;case 17:return t.next=19,b.json();case 19:u=t.sent,(m=Object(D.a)(c))[n]=u,s(m);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){var t=e.match.params.phase,a="/api_v1/articles/admin/";function n(){return(n=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&(a="/api_v1/articles/admin/?phase=".concat(_[t])),function(){n.apply(this,arguments)}()}),[m]);var y=c.map((function(e){return Object(x.jsxs)("form",{children:[Object(x.jsx)("input",{type:"text",name:"title",value:e.title,onChange:O}),"SUB"==e.phase&&Object(x.jsxs)("span",{style:{color:"#bf74df"},children:[Object(x.jsx)(I.a,{icon:E.a})," Flagged for Review"]}),Object(x.jsx)("br",{}),Object(x.jsxs)("span",{children:["Status: ",e.phase]}),Object(x.jsx)("br",{}),Object(x.jsxs)("span",{children:["Author: @",e.author]}),Object(x.jsx)("section",{className:"text",children:Object(x.jsx)("textarea",{type:"text",name:"body",value:e.body,onChange:O})}),"DRA"!==e.phase&&Object(x.jsx)("button",{className:"btn btn-warning",type:"button",onClick:function(){return u(e.id)},children:"Update Status"}),e.id===l?Object(x.jsxs)(x.Fragment,{children:["SUB"==e.phase&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{type:"click",className:"btn btn-pub ",name:"SUB","data-phase":"PUB",onClick:f,children:"Publish"}),Object(x.jsx)("button",{type:"click",className:"btn btn-danger ",name:"SUB","data-phase":"REJ",onClick:f,children:"Reject"})," "]}),"PUB"==e.phase&&Object(x.jsx)("button",{type:"click",className:"btn btn-save ",name:"SUB","data-phase":"ARC",onClick:f,children:"Archive"})]}):null]},e.id)}));return Object(x.jsx)("div",{className:"container-fluid mt-5 article-auth-container",children:Object(x.jsx)("div",{className:"articleholder",children:y})})}));a(4);function q(e){return Object(x.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(x.jsxs)("footer",{style:{display:"flex",bottom:"5px"},children:["\xa92021 made by",Object(x.jsx)("strong",{children:Object(x.jsx)("a",{style:{textDecoration:"none"},href:"https://github.com/kattyeye",children:"kattyeye"})})]})})}var z=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(b.g)();function i(e){return l.apply(this,arguments)}function l(){return(l=Object(j.a)(o.a.mark((function t(a){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")},body:JSON.stringify(e.user)},t.next=3,fetch("/rest-auth/logout/",n);case 3:if(c=t.sent){t.next=8;break}console.log(c),t.next=15;break;case 8:return console.log(c),t.next=11,c.json();case 11:t.sent,p.a.remove("Authorization"),s({isAuth:!1}),r.push("/");case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user");case 2:if((t=e.sent).ok){e.next=7;break}s({isAuth:!1}),e.next=11;break;case 7:return e.next=9,t.json();case 9:a=e.sent,s({isAuth:!0,isAdmin:a.is_staff});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]);var u=null===c||void 0===c?void 0:c.isAuth,h=null===c||void 0===c?void 0:c.isAdmin;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(L,{handleLogoutSubmit:i,isAuth:u,isAdmin:h}),Object(x.jsx)(P,{}),Object(x.jsxs)(b.d,{children:[Object(x.jsx)(b.b,{path:"/registration",children:Object(x.jsx)(k,{})}),Object(x.jsx)(b.b,{path:"/login",children:Object(x.jsx)(w,{isAuth:u,setUser:s})}),Object(x.jsxs)(b.b,{path:"/account",children:[Object(x.jsx)(N,{history:r,isAuth:u}),Object(x.jsx)(T,{isAuth:u})]}),Object(x.jsx)(b.b,{path:"/articles/admin/:phase?",children:Object(x.jsx)(J,{isAuth:u,isAdmin:h,history:r})}),Object(x.jsx)(b.b,{path:"/articles/:phase?",children:Object(x.jsx)(U,{isAuth:u,history:r,handleLogoutSubmit:i})}),Object(x.jsx)(b.b,{path:"/:category?",children:Object(x.jsx)(g,{})})]}),Object(x.jsx)(q,{})]})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,113)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(i.a,{children:Object(x.jsx)(z,{})})}),document.getElementById("root")),X()},89:function(e,t,a){},91:function(e,t,a){},99:function(e,t){}},[[103,1,2]]]);
//# sourceMappingURL=main.20affe61.chunk.js.map